---
title: 'Data Science: Ribs'
output:
  html_document:
    df_print: paged
---

Cooking ribs on July 20, 2018 using the Weber Smoky Mountain smoker, mostly following the method outlined at the [Virtual Weber Bullet](http://virtualweberbullet.com/rib2.html).  

Here's what they looked like to start, using two racks of St. Louis ribs from our [awesome neighborhood butcher](http://avedanos.com/). Had to cut down the two racks to fit in the smoker:

![Ribs going into the smoker](ribs_start.png)

This code plots the meat and air temperature, both measured using the Maverick BBQ thermometer.  The vents all started at about 10% open, and the dashed vertical lines indicate changes in venting (closing in red, opening in green).

```{r}
library(ggplot2)
library(dplyr)
library(tidyr)

time=c('11:40','11:50','12:00','12:12','12:22','12:32','12:43','12:52','13:03','13:14','13:24','13:36')
meatTemp=c(59,81,117,140,151,156,162,163,167,169,172,174)
airTemp=c(201,212,210,217,221,223,226,230,234,232,232,234)

hm=as.POSIXct(strptime(time, '%H:%M',tz='GMT')) 
df=data.frame(meatTemp,airTemp,hm) %>%
  gather(source,temp,-hm)
p=ggplot(df,aes(hm,temp,color=source)) + 
  geom_line() + 
  ylab('Temperature') +
  xlab('Time') 

# add horizontal lines for vent adjustments
reductions=c('12:23','12:50','13:03')
for (t in reductions){
  p = p + geom_vline(xintercept = as.POSIXct(strptime(t, '%H:%M',tz='GMT')) ,linetype='dashed',size=0.5,color='red')
}
  
print(p) 

```

The cooker temperature is remarkably stable today, with little need to futz with the vents.  I've never used internal temperature with ribs before -- based on [Are my ribs ready yet?](https://amazingribs.com/tested-recipes/pork-ribs-recipes/are-my-ribs-ready-yet) I'm shooting for 195-200, but will test with the "tear test" once we hit 4 hours even if temp is not there.  Also interested to see if we get a [stall](https://amazingribs.com/more-technique-and-science/more-cooking-science/understanding-and-beating-barbecue-stall-bane-all) with ribs like one does with brisket.  
